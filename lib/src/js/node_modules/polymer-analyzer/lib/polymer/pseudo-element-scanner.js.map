{"version":3,"sources":["polymer/pseudo-element-scanner.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;GAYG;;;;;;;;;;AAEH,6BAA6B;AAG7B,6CAA6C;AAC7C,iCAA6C;AAI7C,uDAAwD;AAExD;;;;GAIG;AACH;IACQ,IAAI,CACN,QAA4B,EAC5B,KAA8C;;YAEhD,MAAM,QAAQ,GAA4B,EAAE,CAAC;YAE7C,MAAM,KAAK,CAAC,CAAC,IAAa;gBACxB,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;oBAClF,MAAM,WAAW,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAChD,MAAM,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC,WAAW,EAAE,eAAe,EAAE,MAAM,CAAC,CAAC;oBACrE,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;wBACd,MAAM,OAAO,GAAG,IAAI,uCAAqB,CAAC;4BACxC,OAAO,EAAE,SAAS;4BAClB,KAAK,EAAE,EAAC,WAAW,EAAE,WAAW,CAAC,WAAW,EAAE,IAAI,EAAE,WAAW,CAAC,IAAI,EAAC;4BACrE,UAAU,EAAE,EAAE;4BACd,WAAW,EAAE,WAAW,CAAC,WAAW;4BACpC,WAAW,EAAE,QAAQ,CAAC,kBAAkB,CAAC,IAAI,CAAC;yBAC/C,CAAC,CAAC;wBACH,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;wBACtB,4BAAqB,CAAC,OAAO,CAAC,CAAC;wBAC/B,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBACzB,CAAC;gBACH,CAAC;YACH,CAAC,CAAC,CAAC;YACH,MAAM,CAAC,QAAQ,CAAC;QAClB,CAAC;KAAA;CACF;AA3BD,oDA2BC","file":"pseudo-element-scanner.js","sourcesContent":["/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport * as dom5 from 'dom5';\nimport {ASTNode} from 'parse5';\n\nimport * as jsdoc from '../javascript/jsdoc';\nimport {annotateElementHeader} from './docs';\n\nimport {HtmlVisitor, ParsedHtmlDocument} from '../html/html-document';\nimport {HtmlScanner} from '../html/html-scanner';\nimport {ScannedPolymerElement} from './polymer-element';\n\n/**\n * A Polymer pseudo-element is an element that is declared in an unusual way, such\n * that the analyzer couldn't normally analyze it, so instead it is declared in\n * comments.\n */\nexport class PseudoElementScanner implements HtmlScanner {\n  async scan(\n      document: ParsedHtmlDocument,\n      visit: (visitor: HtmlVisitor) => Promise<void>):\n      Promise<ScannedPolymerElement[]> {\n    const elements: ScannedPolymerElement[] = [];\n\n    await visit((node: ASTNode) => {\n      if (dom5.isCommentNode(node) && node.data && node.data.includes('@pseudoElement')) {\n        const parsedJsdoc = jsdoc.parseJsdoc(node.data);\n        const pseudoTag = jsdoc.getTag(parsedJsdoc, 'pseudoElement', 'name');\n        if (pseudoTag) {\n          const element = new ScannedPolymerElement({\n            tagName: pseudoTag,\n            jsdoc: {description: parsedJsdoc.description, tags: parsedJsdoc.tags},\n            properties: [],\n            description: parsedJsdoc.description,\n            sourceRange: document.sourceRangeForNode(node)\n          });\n          element.pseudo = true;\n          annotateElementHeader(element);\n          elements.push(element);\n        }\n      }\n    });\n    return elements;\n  }\n}\n"]}